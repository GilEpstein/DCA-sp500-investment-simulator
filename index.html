<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מחשבון השקעות S&P 500</title>
    <!-- עדכון הספריות -->
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <!-- שינוי בטעינת Recharts -->
    <script src="https://unpkg.com/recharts@2.1.0/umd/Recharts.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <style>
        /* ... אותו סגנון כמו קודם ... */
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        // הוספת הגדרה גלובלית של Recharts
        const { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } = window.Recharts;

        function App() {
            const [sp500Data, setSP500Data] = React.useState([]);
            const [loading, setLoading] = React.useState(true);
            const [error, setError] = React.useState(null);
            const [params, setParams] = React.useState({
                monthlyInvestment: 100,
                dropPercentage: 20,
                increasePercentage: 50,
                years: 5
            });
            const [results, setResults] = React.useState(null);

            // ... שאר הקוד נשאר אותו דבר ...

            if (loading) return <div className="container">טוען נתונים...</div>;
            if (error) return <div className="container">שגיאה: {error}</div>;

            return (
                <div className="container">
                    {/* ... אותו JSX כמו קודם ... */}
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
